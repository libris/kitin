{% raw %}
<div data-ng-switch on="result.hits" data-ng-controller="SearchCtrl">
    <div class="content search" data-ng-switch-when="0">
       <div id="grid"></div>
          <header>
             <h1></h1>
             <p class="summary">Din sökning på <strong>{{ q }}</strong> resulterade i 0 träffar.</p>
             </header>
         </div>
<div data-ng-show="!loading" class="content search" data-ng-switch-default>
  <div id="grid"></div>
  <header>
  <h1></h1>
  <!--<p class="summary"><span>{{ hitCount }} träffar för <strong>{{ q }}</strong></span></p>-->
  <p class="summary">
    {{ hitCount | chunk }} träffar för
    <span data-ng-repeat="crumb in crumbs">
      <span data-ng-show="crumb.bridge">{{ crumb.bridge }}</span>
      <span data-ng-hide="crumb.urlpart"><strong>{{ getLabel(crumb.term) }}</strong></span>
      <a data-ng-show="crumb.urlpart" href="{{ crumb.urlpart }}">{{ getLabel(crumb.term) }}</a>
    </span>
  </p>
  <!--<p class="summary"><span>{{ hitCount }} träffar <span data-ng-repeat="crumb in crumbs">{{ crumb.term }}</span></span></p>-->
  </header>
  <div class="cols">
    <div class="col3">
      <section class="nav">
        <dl data-ng-repeat="facet in facetGroups">
          <dt><i></i>{{facetLabels[facet.type]}}</dt>
          <dd data-ng-repeat="item in facet.items">
            <a data-ng-class="{active: item.selected}"
               data-ng-href="{{item.searchUrl}}">
              <span>{{getLabel(item.key)}} ({{item.count | chunk}})</span></a>
          </dd>
        </dl>
      </section>
    </div>
    <div class="col9">
      <section data-ng-repeat="record in result.list"
               class="result record {{record.identifier}}">
        <a class="bib-url" href="/edit{{ record.identifier }}" data-ng-switch="recType">
          <div data-ng-switch-when="auth">
            <label class="title">
              {{ record.data.about.controlledLabel }}
              {{ record.data.about.prefLabel }}
              {{ record.data.about.name }}
              {{ record.data.about.uniformTitle }}
              {{ record.data.about.label }}
            </label>
            <label>
            {{ record.data.about.note }}
            {{ record.data.about.scopeNote }}
            </label>
          </div>
          <div data-ng-switch-when="bib" class="nest-cols">
            <div class="col5">
              <label class="title" title="{{ record.data.about.title.titleValue }} {{ record.data.about.title.subtitle }}">
                  {{ record.data.about.title.titleValue | chop }}
                <span class="title title-remainder">{{ record.data.about.title.subtitle }} {{ record.data.about.responsibilityStatement }}</span>
              </label>
  <!--
            <label title="{{ record.data.about.responsibilityStatement }}">
            <span>{{ record.data.about.responsibilityStatement }}</span>
            </label>
  -->
              <label title="Upphovsman"
                    data-ng-init="work = record.data.about.instanceOf; person = firstPerson(work)"
                    data-ng-include="'render-person-name'"></label>
            </div>
            <div class="col4">
              <label title="Utgivningsår" data-ng-repeat="publication in record.data.about.publication | limitTo:1"
                  data-ng-show="publication.providerDate">
                {{ publication.providerDate }}
                <!-- <span class="lbl">Utgivningsår</span> -->
              </label>
              <label title="{{ identifier.identifierScheme }}" data-ng-repeat="identifier in record.data.about.identifier | limitTo:1">
                {{ identifier.identifierValue }}
                <!-- <span class="lbl">{{ identifier.identifierScheme }}</span> -->
              </label>
            </div>
          </div>
          <!--excerpt hidden until implemented
          <div class="excerpt">
            <label>
              a <strong class="highlight">lorem</strong> Extreme (ipsum dore...
              <span class="lbl">Utdrag ur: Innehållsförteckning</span>
            </label>
          </div>
          -->
          </ng:switch>
          
          <div class="footer">
            <span data-ng-show="record.data.about['@type']">{{ getLabel(record.data.about['@type']) }}</span>
            <span data-ng-show="enums.bibLevel[record.data.bibLevel]">{{ enums.bibLevel[record.data.bibLevel].label_sv }}</span>
            <span data-ng-show="enums.encLevel[record.data.encLevel]">{{ enums.encLevel[record.data.encLevel].label_sv }}</span>
          </div>
          </a>
      </section>
    </div>
  </div>
</div>
</div>
<div class="loading" data-ng-show="loading"><b>...</b></div>

{% endraw %}
