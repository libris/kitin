{% include "partials/_search_bar.html" %}

{% raw %}
<div data-ng-switch on="result.hits">
    <div class="content search" data-ng-switch-when="0">
       <div id="grid"></div>
          <header>
             <h1></h1>
             <p class="summary">Din sökning på <strong>{{ q }}</strong> resulterade i 0 träffar.</p>
             </header>
         </div>
<div data-ng-show="!loading" class="content search" data-ng-switch-default>
  <div id="grid"></div>
  <header>
  <h1></h1>
  <!--<p class="summary"><span>{{ chunkedHits }} träffar för <strong>{{ q }}</strong></span></p>-->
  <p class="summary"><span>{{ chunkedHits }} träffar för <span data-ng-repeat="crumb in crumbs"><span data-ng-show="crumb.bridge">{{ crumb.bridge }}</span><span data-ng-hide="crumb.urlpart"><strong>{{ crumb.term }}</strong></span><a data-ng-show="crumb.urlpart" href="{{ crumb.urlpart }}">{{ crumb.term }}</a></span></span></p>
  <!--<p class="summary"><span>{{ chunkedHits }} träffar <span data-ng-repeat="crumb in crumbs">{{ crumb.term }}</span></span></p>-->
  </header>
  <div class="cols">
    <div class="col3">
      <section class="nav">
        <dl data-ng-repeat="facet in my_facets">
          <dt><i></i>{{facet_terms[facet['type']]}}</dt>
          <dd data-ng-repeat="item in facet['items']">
            <a data-ng-class="{active: item.selected}"
               data-ng-href="{{item['slug']}}">
              <span data-ng-repeat="(key, value) in item['object']">{{key}} ({{value | chunk}})</span></a>
          </dd>
        </dl>
      </section>
    </div>
    <div class="col9">
      <section data-ng-repeat="record in result.list" class="result record {{record.identifier}}">
        <a class="bib-url" href="/edit{{ record.identifier }}" >
        <div class="cols">
          <div class="col5">
            <label class="title" title="{{ record.data.about.instanceOf.title }} {{ record.data.about.instanceOf.titleRemainder }}">
                {{ record.data.about.title.titleValue | chop }}
              <span class="title title-remainder">{{ record.data.about.title.subtitle }}</span>
            </label>
          <label title="{{ record.data.about.responsibilityStatement }}">
          <span>{{ record.data.about.responsibilityStatement }}</span>
          </label>
            <label title="Upphovsman" data-ng-repeat="author in record.data.about.instanceOf.creator | limitTo:1">
                <span>{{ author.givenName }} {{ author.familyName }}</span>, <span>{{ author.birthYear }} - {{ author.deathYear }}</span>
                <!-- <span class="lbl">Upphovsman</span> -->
            </label>
          </div>
          <div class="col4">
            <label title="Utgivningsår" data-ng-repeat="publication in record.data.about.publication | limitTo:1"
                data-ng-show="publication.providerDate">
              {{ publication.providerDate }}
              <!-- <span class="lbl">Utgivningsår</span> -->
            </label>
            <label title="{{ identifier.identifierScheme }}" data-ng-repeat="identifier in record.data.about.identifier | limitTo:1">
              {{ identifier.identifierValue }}
              <!-- <span class="lbl">{{ identifier.identifierScheme }}</span> -->
            </label>
          </div>
        </div>
        <!--excerpt hidden until implemented
        <div class="excerpt">
          <label>
            a <strong class="highlight">lorem</strong> Extreme (ipsum dore...
            <span class="lbl">Utdrag ur: Innehållsförteckning</span>
          </label>
        </div>
        -->
        </a>
        <div class="footer">
            <span data-ng-show="typeDefs[record.data.about['@type']]">{{ typeDefs[record.data.about['@type']].label_sv }}</span>
            <span data-ng-show="enums.bibLevel[record.data.bibLevel]">{{ enums.bibLevel[record.data.bibLevel].label_sv }}</span>
            <span data-ng-show="enums.encLevel[record.data.encLevel]">{{ enums.encLevel[record.data.encLevel].label_sv }}</span>
        </div>
      </section>
    </div>
  </div>
</div>
</div>
<div class="loading" data-ng-show="loading"><img src="/static/i/loading.gif"/></div> 

{% endraw %}
