{% raw %}
<div data-ng-switch on="result.hits" data-ng-controller="SearchCtrl">
    <div class="content search" data-ng-switch-when="0">
       <div id="grid"></div>
          <header>
             <p class="summary">Din sökning på <strong>{{ q }}</strong> resulterade i 0 träffar.</p>
             </header>
         </div>
<div data-ng-show="!loading" class="content search" data-ng-switch-default>
  <div id="grid"></div>
  <header>
  <!--<p class="summary"><span>{{ hitCount }} träffar för <strong>{{ q }}</strong></span></p>-->
  <p class="summary">
    {{ hitCount | chunk }} träffar för
    <span data-ng-repeat="crumb in crumbs">
      <span data-ng-show="crumb.bridge">{{ crumb.bridge }}</span>
      <span data-ng-hide="crumb.urlpart"><strong>{{ getLabel(crumb.term) }}</strong></span>
      <a data-ng-show="crumb.urlpart" href="{{ crumb.urlpart }}">{{ getLabel(crumb.term) }}</a>
    </span>
  </p>
  <!--<p class="summary"><span>{{ hitCount }} träffar <span data-ng-repeat="crumb in crumbs">{{ crumb.term }}</span></span></p>-->
  </header>
  <div class="cols">
    <div class="col3">
      <section class="nav">
        <dl data-ng-repeat="facet in facetGroups">
          <dt><i></i>{{facetLabels[facet.type]}}</dt>
          <dd data-ng-repeat="item in facet.items">
            <a data-ng-class="{active: item.selected}"
               data-ng-href="{{item.searchUrl}}">
              <span>{{getLabel(item.key)}} ({{item.count | chunk}})</span></a>
          </dd>
        </dl>
      </section>
    </div>
    <div class="col9">
      <section data-ng-repeat="record in result.list" data-ng-class="{'result-pre': record.data.encLevel == 8}" class="result record {{record.identifier}}">
        <a class="bib-url" href="/edit{{ record.identifier }}" data-ng-switch="recType">
          <div data-ng-switch-when="auth">
            <div class="col5">
              <label class="title">
                {{ record.data.about.controlledLabel }}
                {{ record.data.about.prefLabel }}
                {{ record.data.about.name }}
                {{ record.data.about.uniformTitle }}
                {{ record.data.about.label }}
              </label>
              <label data-ng-repeat="note in record.data.about.note">
                {{ note }}
              </label>
              <label data-ng-repeat="scopeNote in record.data.about.scopeNote">
                {{ scopeNote }}
              </label>
            </div>
          </div>

          <div data-ng-switch-when="bib" class="nest-cols">
            <div class="col5">
              <label class="title" title="{{ record.data.about.title.titleValue }} {{ record.data.about.title.subtitle }}">
                <span class="title-key">{{ record.data.about.title.titleValue | chop }}</span>
                <span class="title-subtitle">{{ record.data.about.title.subtitle }}</span>
              </label>
              <label>
                <span class="title-creator">{{ record.data.about.responsibilityStatement }}</span>
              </label>
              <label title="contributors" class="contributors">
                <ul title="" data-ng-repeat="attributedTo in record.data.about.instanceOf.attributedTo"
                  data-ng-show="attributedTo.controlledLabel"><li class="primary-attribution">{{ attributedTo.controlledLabel }}</li>
                </ul> 
                <ul title="" data-ng-repeat="influencedBy in record.data.about.instanceOf.influencedBy | limitTo:3"
                  data-ng-show="influencedBy.controlledLabel"><li>{{ influencedBy.controlledLabel }}</li>
                </ul> 
              </label>
            
<!--               <label title="Upphovsman" data-ng-init="work = record.data.about.instanceOf; person = firstPerson(work)" data-ng-include="'render-person-name'"></label> -->
            </div>
            <div class="f bottom">
              <span>  
                <span data-ng-show="record.data.about['@type'] == 'Book'"><i class="fa fa-square fa-fw"></i></span>
                <span data-ng-show="record.data.about['@type'] == 'MusicCD'"><i class="fa fa-square fa-fw"></i></span>
                <span data-ng-show="record.data.about['@type'] == 'EBook'"><i class="fa fa-square fa-fw"></i></span>
                <span data-ng-show="record.data.about['@type'] == 'Serial'"><i class="fa fa-square fa-fw"></i></span>
                <span title="Utgivningsår" data-ng-repeat="publication in record.data.about.publication | limitTo:1"
                  data-ng-show="publication.providerDate">{{publication.providerDate}}</span>
                <span title="Utgivare" data-ng-repeat="publication in record.data.about.publication | limitTo:1"
                  data-ng-show="publication.providerName">{{publication.providerName}}</span>
                <span data-ng-show="record.data.about.extent">{{ record.data.about.extent }}</span>
              </span>

              <span class="ng-binding ng-hide" data-ng-show="enums.bibLevel[record.data.bibLevel]"></span>
              <span class="ng-binding ng-hide" data-ng-show="enums.encLevel[record.data.encLevel]"></span>
            </div>

            <div class="col2">
              <label title="{{ identifier.identifierScheme }}" class="identifier-code" data-ng-repeat="identifier in record.data.about.identifier | limitTo:1">{{ identifier.identifierValue }}
              </label>
            </div>
          </div>
          <!--excerpt hidden until implemented
          <div class="excerpt">
            <label>
              a <strong class="highlight">lorem</strong> Extreme (ipsum dore...
              <span class="lbl">Utdrag ur: Innehållsförteckning</span>
            </label>
          </div>
          -->
            <div class="widget">
              <label class="enc-level">
              <span data-ng-if="record.data.encLevel == 3 ">
               <i class="fa fa-circle"></i>
               <i class="fa fa-circle-o"></i>
               <i class="fa fa-circle-o"></i>
               Miniminivå
              </span>
              <span data-ng-if="record.data.encLevel == 7 ">
               <i class="fa fa-circle"></i>
               <i class="fa fa-circle"></i>
               <i class="fa fa-circle-o"></i>
               Biblioteksnivå
              </span>
               <span data-ng-if="record.data.encLevel == null ">
               <i class="fa fa-circle"></i>
               <i class="fa fa-circle"></i>
               <i class="fa fa-circle"></i>
               NB-nivå
              </span>
               <span data-ng-if="record.data.encLevel == 8 ">
               <i class="fa fa-circle-o"></i>
               <i class="fa fa-circle-o"></i>
               <i class="fa fa-circle-o"></i>
              Förhandspost
              </span>
              <span data-ng-if="record.data.encLevel == 'I' ">
               <i class="fa fa-circle-o"></i>
               <i class="fa fa-circle-o"></i>
               <i class="fa fa-circle-o"></i>
              Full-level input by OCLC participants (LOCAL)
              </span>

               <p class="holding">
               <span data-ng-if="record.data.encLevel == 8 ">
               Beståndsinformation ej tillgänglig
               </span>
               <span data-ng-if="record.data.encLevel != 8 ">
               <i class="fa fa-thumb-tack"></i> {x} bibliotek 
               </span>
               </p>
                </label>
            </div>
          </ng:switch>
          
<!--
          <div class="footer">
            <span data-ng-show="record.data.about['@type']">{{ getLabel(record.data.about['@type']) }} <span data-ng-if="record.data.about.inScheme['@type'] == 'ConceptScheme'">({{ record.data.about.inScheme.notation }})</span></span>
            <span data-ng-show="enums.bibLevel[record.data.bibLevel]">{{ enums.bibLevel[record.data.bibLevel].label_sv }}</span>
            <span data-ng-show="enums.encLevel[record.data.encLevel]">{{ enums.encLevel[record.data.encLevel].label_sv }}</span>
          </div>
-->
          </a>
      </section>
    </div>
  </div>
</div>
</div>
<div class="loading" data-ng-show="loading"><b>...</b></div>

{% endraw %}
