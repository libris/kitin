<form id="record" class="form-horizontal">
  <p id="flash_message"></p>
  <h1>BIBLIOGRAFISK POST</h1>
  <article class="well">

    <section id="prelude">
      <input type='button' id='btn2' value='Save draft' data-ng-click="save_draft()"/>
      <div class="row-fluid">
        <div class="field span2">
          {{ record.about['@type'].join(", ") }}
        </div>
        <div class="field span2">
          {{ record.about.instanceOf['@type'].join(", ") }}
        </div>
        <div class="field span3">
          <!-- TODO: value is object with both code and label? Post-process
            on change or don't use label in editable data (just link)?
            <select
            data-ng-options="key as val.label_sv for (key, val) in meta.encLevels"
            data-ng-model="record.encLevel.code"></select>
          -->
          <select>
            <option value="record.encLevel.code">{{ record.encLevel.label }}</option>
          </select>
        </div>
        <div class="field span3">
          <input class="input" type="text" data-ng-model="record.catForm.label" />
          <label>{{ "Katalogiseringsregler" }}</label>
        </div>
        <div class="field span1">
          <input class="input-mini" type="text" data-ng-model="record.creator.abbr" />
          <label>{{ "Bibliografi" }}</label>
        </div>
      </div>
    </section>
	<hr/>
    <section id="work" data-ng-repeat="work in [record.about.instanceOf]">
      <h2>VERK</h2>
      <div class="row-fluid">
        <div class="field span8">
          <input class="title input-xxlarge" type="text" data-ng-model="work.title" />
          <label>{{ "Huvudtitel" }}</label>
          <input class="title input-xxlarge" type="text" data-ng-model="work.titleRemainder" />
          <label>{{ "Övrigt titelinformation" }}</label>
        </div>
        <div class="field span4">
          <input class="input-large" type="text" data-ng-model="work.statementOfResponsibility" />
          <label>{{ "Upphov" }}</label>
        </div>
      </div>
      <div class="row-fluid">
        <div class="field span6" data-ng-repeat="person in work.authorList">
          <div class="field span7">
            <input class="input" type="text" data-ng-model="person.authoritativeName" />
            <label>{{ "Personnamn" }}</label>
          </div>
          <div class="field span2">
            <input class="input-mini" type="text" data-ng-model="person.birthYear" />
            <label>{{ "Född" }}</label>
          </div>
          <div class="field span2" data-ng-show="person.deathYear">
            <input class="input-mini" type="text" data-ng-model="person.deathYear" />
            <label> &mdash; {{ "Död" }}</label>
          </div>
        </div>
      </div>
      <div class="row-fluid">
        <div class="field span12">
          <input class="input-mini" type="text" data-ng-model="work.language" />
          <label>{{ "Språk" }}</label>
        </div>
      </div>
      <h3>{{ "Ämnen" }}</h3>
      <div class="row-fluid" >
        <div class="field span12">
          <ul class="inline">
          <li  data-ng-repeat="topic in work.subject"><a class="btn btn-small" href="{{ topic['@id'] }}">{{ topic['@id'] }}</a></li>
          <!--
          <input class="input-xxlarge" type="text" data-ng-model="topic['@id']" />
          -->
          </ul>
        </div>
      </div>
    </section>
	<hr/>
    <section id="instance" data-ng-repeat="instance in [record.about]">
      <h2>INSTANS</h2>
      <h3>{{ "Utgivning" }}</h3>
      <div class="row-fluid">
        <div class="field span6">
          <input class="input" type="text" data-ng-model="instance.isbn" />
          <input class="input-mini" type="text" data-ng-model="instance.isbnNote" />
          <label>{{ "ISBN" }}</label>
        </div>
        <div class="field span6">
          <input class="input-xlarge" type="text" data-ng-model="instance.publisher.name" />
          <label>{{ "Utgivare/förlag" }}</label>
        </div>
      </div>
      <div class="row-fluid">
        <div class="field span6">
          <input class="input" type="text" data-ng-model="instance.pubDate['@value']" />
          <label>{{ "Utgivningsdatum" }}</label>
        </div>
      </div>
      <h3>{{ "Fysisk beskrivning" }}</h3>
      <div class="row-fluid">
        <div class="field span6">
          <input class="input" type="text" data-ng-model="instance.placeOfPublication.label" />
          <label>{{ "Utgivningsort" }}</label>
        </div>
        <div class="field span6">
          <input class="input-xlarge" type="text" data-ng-model="instance.placeOfManufacture.label" />
          <label>{{ "Tryckland" }}</label>
        </div>
      </div>
      <div class="row-fluid">
        <div class="field span3">
          <input class="input-small" type="text" data-ng-model="instance.extent" />
          <label>{{ "Omfång" }}</label>
        </div>
        <div class="field span3">
          <input class="input-small" type="text" data-ng-model="instance.dimensions" />
          <label>{{ "Mått" }}</label>
        </div>
        <div class="field span3">
          <input class="input-small" type="text" data-ng-model="instance.baseMaterial" />
          <label>{{ "Basmaterial" }}</label>
        </div>
        <div class="field span3">
          <input class="input-small" type="text" data-ng-model="instance.termsOfAvailability" />
          <label>{{ "Pris" }}</label>
        </div>
      </div>
      <div class="row-fluid">
        <div class="field span12">
          <input class="input-xxlarge" type="text" data-ng-model="instance.comment" />
          <label>{{ "Anmärkning" }}</label>
        </div>
      </div>
    </section>

  </article>
</form>
