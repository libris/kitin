
<!-- detailed hitlist -->
<section data-ng-repeat="record in state.search.result.items" data-ng-class="{'result-pre': record.encLevel == 8}" class="result record">
  <span class="page-indicator" data-ng-if="($index > 0 && ($index + 1) % 10 == 0) || ($index+1) == hitCount">{{ $index + 1 }} tr채ffar av {{ state.search.hitCount }}</span>
  
  <!-- ng recType switch -->
  <a class="bib-url" href="/edit/libris{{record['@id']}}" data-ng-click="editPost(recType, record)" data-ng-switch="recType">

    <!-- auth result list -->
    <div data-ng-switch-when="auth" class="auth">
      <div class="col5">
        <div class="label title">
          <span class="title-key">
            {{ record.about.controlledLabel }}
            {{ record.about.prefLabel }}
            {{ record.about.name }}
            {{ record.about.uniformTitle }}
            {{ record.about.label }}
          </span>
        </div>
        <div class="label" data-ng-repeat="note in record.about.note">
          {{ note }}
        </div>
        <div class="label" data-ng-repeat="scopeNote in record.about.scopeNote">
          {{ scopeNote }}
        </div>
        <div class="f bottom">
          {{ record.about['@type'] }}
        </div>
      </div>
    </div>
    <!-- // auth result list -->

    <!-- remote result list -->
    <div data-ng-switch-when="remote" class="nest-cols remote">
      <div class="col5">
        <div class="label title" title="{{ record.about.instanceTitle.titleValue }} {{ record.about.instanceTitle.subtitle }}">
          <span class="title-key">{{ record.about.instanceTitle.titleValue | chop }}</span>
          <span class="title-subtitle">{{ record.about.instanceTitle.subtitle | chop }}
          <span class="title-variation">{{ record.about.titleVariation.titleValue | chop }}</span>
          <span class="title-key-real" data-ng-repeat="keyTitle in record.about.keyTitle">{{ keyTitle.titleValue | chop }}</span>
          <span class="title-creator"> {{ record.about.responsibilityStatement | chop }}</span></span>
        </div>

        <div class="label contributors" title="contributors">
          <ul title="" data-ng-repeat="attributedTo in record.about.instanceOf.attributedTo"
            data-ng-show="attributedTo.controlledLabel"><li class="primary-attribution">{{ attributedTo.controlledLabel }}</li>
          </ul> 
          <ul title="" data-ng-repeat="influencedBy in record.about.instanceOf.influencedBy | limitTo:3"
            data-ng-show="influencedBy.controlledLabel"><li>{{ influencedBy.controlledLabel }}</li>
          </ul> 
        </div>

        <div class="f bottom">
          <span>  
            <span data-ng-show="record.about['@type'] == 'Book'"><i class="fa fa-square fa-fw"></i></span>
            <span data-ng-show="record.about['@type'] == 'MusicCD'"><i class="fa fa-square fa-fw"></i></span>
            <span data-ng-show="record.about['@type'] == 'EBook'"><i class="fa fa-square fa-fw"></i></span>
            <span data-ng-show="record.about['@type'] == 'Serial'"><i class="fa fa-square fa-fw"></i></span>
            <span title="provider-date" data-ng-repeat="publication in record.about.publication | limitTo:1"
              data-ng-show="publication.providerDate">{{publication.providerDate}}</span>
            <span title="provider" data-ng-repeat="publication in record.about.publication | limitTo:1"> {{publication.place.label}} {{publication.providerName}}</span>
            <span data-ng-show="record.about.extent">{{ record.about.extent }}</span>
          </span>
          <span class="ng-binding ng-hide" data-ng-show="enums.bibLevel[record.bibLevel]"></span>
          <span class="ng-binding ng-hide" data-ng-show="enums.encLevel[record.encLevel]"></span>
        </div>
      </div>

      <div class="col2">
        <div class="label identifier-code" title="{{ identifier.identifierScheme }}" data-ng-repeat="identifier in record.about.identifier">{{ identifier.identifierValue }}
        </div>
      </div>

      <div class="widget">
        <div class="enc-level">
          <!-- <div data-ng-include="'/partials/enc_level'" ng-init="encLevel = record.encLevel"></div> -->
          <span data-ng-if="record.database != null" class="database">
            <i class="fa fa-institution"></i> K채lla: {{record.database}} 
          </span>
        </div>
        <div class="comments">
          <span data-ng-repeat="comment in record.comment">{{comment}}</span>
        </div>
        <button data-ng-click="log([record, encLevel, recType])" class="btn btn-green btn-copy-remote"><i class="fa fa-inverse fa-plus"></i> Kopiera</button>
      </div>
    </div>
    <!-- // remote result list -->

    <!-- bib result list -->
    <div data-ng-switch-default class="nest-cols bib">
      <div class="col5">
        <div class="label title" title="{{ record.about.instanceTitle.titleValue }} {{ record.about.instanceTitle.subtitle }}">
          <span class="title-key">{{ record.about.instanceTitle.titleValue | chop }}</span>
          <span class="title-subtitle">{{ record.about.instanceTitle.subtitle | chop }}
          <span class="title-variation">{{ record.about.titleVariation.titleValue | chop }}</span>
          <span class="title-key-real" data-ng-repeat="keyTitle in record.about.keyTitle">{{ keyTitle.titleValue | chop }}</span>
          <span class="title-creator"> {{ record.about.responsibilityStatement | chop }}</span></span>
        </div>

        <div class="label contributors" title="contributors">
          <ul title="" data-ng-repeat="attributedTo in record.about.instanceOf.attributedTo"
            data-ng-show="attributedTo.controlledLabel"><li class="primary-attribution">{{ attributedTo.controlledLabel }}</li>
          </ul> 
          <ul title="" data-ng-repeat="influencedBy in record.about.instanceOf.influencedBy | limitTo:3"
            data-ng-show="influencedBy.controlledLabel"><li>{{ influencedBy.controlledLabel }}</li>
          </ul> 
        </div>

        <div class="f bottom">
          <span>  
            <span data-ng-show="record.about['@type'] == 'Book'"><i class="fa fa-square fa-fw"></i></span>
            <span data-ng-show="record.about['@type'] == 'MusicCD'"><i class="fa fa-square fa-fw"></i></span>
            <span data-ng-show="record.about['@type'] == 'EBook'"><i class="fa fa-square fa-fw"></i></span>
            <span data-ng-show="record.about['@type'] == 'Serial'"><i class="fa fa-square fa-fw"></i></span>
            <span title="provider-date" data-ng-repeat="publication in record.about.publication | limitTo:1"
              data-ng-show="publication.providerDate">{{ utils.composeDate(publication.providerDate) }}</span>
            <span title="provider" data-ng-repeat="publication in record.about.publication | limitTo:1"> {{publication.place.label}} {{publication.providerName}}</span>
            <span data-ng-show="record.about.extent">{{ record.about.extent }}</span>
          </span>
          <span class="ng-binding ng-hide" data-ng-show="enums.bibLevel[record.bibLevel]"></span>
          <span class="ng-binding ng-hide" data-ng-show="enums.encLevel[record.encLevel]"></span>
        </div>
      </div>

      <div class="col2">
        <div class="label identifier code" title="{{ identifier.identifierScheme }}" data-ng-repeat="identifier in record.about.identifier | limitTo:3">{{ identifier.identifierValue }}
        </div>
        <div class="label identifier more" data-ng-show="record.about.identifier.length > 3">{{record.about.identifier.length - 3}} identifierare visas inte.</div>
      </div>

      <div class="widget">
        <div class="enc-level">
          <div data-ng-include="'/partials/enc_level'" ng-init="encLevel = record.encLevel"></div>
          <span data-ng-if="record.holdings.items != null">
            <i class="fa fa-thumb-tack"></i> {{record.holdings.items}} bibliotek 
          </span>
        </div>
        <div class="comments">
          <span data-ng-repeat="comment in record.comment">{{comment}}</span>
        </div>
        <div class="holding">
          <button class="btn btn-purple btn-hld" data-ng-controller="ModalCtrl" data-ng-click="openHoldingsModal($event, record)">
            <span data-ng-if="!record.holdings.holding"><i class="fa fa-inverse fa-plus"></i> Best책nd</span>
            <span data-ng-if="record.holdings.holding"><i class="fa fa-inverse fa-check"></i> Best책nd</span>
          </button>
        </div>
      </div>

    </div>
    <!-- // bib result list -->

  </a>
  <!-- // ng recType switch -->

</section>
