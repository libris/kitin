 {% raw %}
<h2>{{ "Anm√§rkningar" }}<i></i></h2>

    <!-- GENERAL TAG TEMPLATES -->
    <script type="text/ng-template" id="render-tag-view">
      <ul class="tags">
        <li><a href="#"><i class="fa fa-bookmark" data-ng-if="isAuth(object)"></i> {{ object.prefLabel }}</a> <i data-ng-if="!editable.on" data-ng-click="doRemove($index)" class="no">&times;</i></li>
      </ul>
    </script>

    <script type="text/ng-template" id="render-tag-search">
      <label class="find-entity">
        <i class="fa fa-search"></i>
        <input data-inplace class="input-large authdependant embedded" type="text"
              placeholder="{{ search_placeholder }}"
              data-no-value="{{ object.prefLabel }}"
              data-kitin-search-entity
              data-service-url="{{ search_service_url }}"
              data-filter="{{ search_filter }}"
              data-completion-template="select-tag-template" />
      </label>
    </script>
    <script type="text/html" id="select-tag-template">
      <div class="auth">
        <h4>
          <span class="name"><%= data.prefLabel %></span>
        </h4>
      </div>
    </script>

    <div class="cols">
      <div class="col6">
        <label>
          <div class="datatable" data-ng-target="summary" 
            data-kitin-data-table 
            data-collapsable="true"
            data-table-model="record.about.summary" 
            data-table-header-row-template="issueNumber-header-row-template"
            data-table-row-template="issueNumber-row-template"
            data-subject="record.about" data-link-multiple="summary"
            data-default-type="IssueNumber"
            data-add-first
            data-addable="publication_and_production">
          </div>
          <script type="text/ng-template" id="summary-header-row-template">
            <td><span class="lbl" translate>LABEL.record.about.summary</span></td>
          </script>
          <script type="text/ng-template" id="summary-row-template">
            <td><label><input ng-model="object" data-inplace class="ng-pristine ng-valid" type="text" /></label></td>
            <td class="controls">
              <button class="btn-link deleter" data-ng-click="removeTableRow($index)"><i class="fa fa-times"></i></button>
            </td>
          </script>
        </label>  
      </div>
      <div class="col6">
        <label>
          <div class="datatable" data-ng-target="listOfContents" 
            data-kitin-data-table 
            data-collapsable="true"
            data-table-model="record.about.listOfContents" 
            data-table-header-row-template="issueNumber-header-row-template"
            data-table-row-template="issueNumber-row-template"
            data-subject="record.about" data-link-multiple="listOfContents"
            data-default-type="IssueNumber"
            data-add-first
            data-addable="publication_and_production">
          </div>
          <script type="text/ng-template" id="listOfContents-header-row-template">
            <td><span class="lbl" translate>LABEL.record.about.listOfContents</span></td>
          </script>
          <script type="text/ng-template" id="listOfContents-row-template">
            <td><label><input ng-model="object" data-inplace class="ng-pristine ng-valid" type="text" /></label></td>
            <td class="controls">
              <button class="btn-link deleter" data-ng-click="removeTableRow($index)"><i class="fa fa-times"></i></button>
            </td>
          </script>
        </label>  
      </div>
    </div>

    <div class="cols">
      <div class="col6" data-ng-show="record.about.performerNote">
        <label>
          <span class="lbl" translate>LABEL.record.about.performerNote</span>
          <textarea data-inplace data-ui-jq="autosize" class="ng-pristine ng-valid" type="text" data-ng-model="record.about.performerNote" ></textarea>
        </label>
      </div>
      <div class="col6" data-ng-show="record.about.contributorNote"> <!-- data-ng-show="getTypeDef(instance).term == 'Audiobook'" ?-->
        <label>
          <span class="lbl" translate>LABEL.record.about.contributorNote</span>
          <textarea data-inplace data-ui-jq="autosize" class="ng-pristine ng-valid" type="text" data-ng-model="record.about.contributorNote" ></textarea>
        </label>
        <label>
          <span class="lbl" translate>LABEL.record.sourceNote</span>
          <textarea data-inplace data-ui-jq="autosize" class="ng-pristine ng-valid" type="text" data-ng-model="record.sourceNote" ></textarea>
        </label>
      </div>
    </div>
    <div class="cols">
      <div class="col6" data-ng-show="record.about.technicalNote">
        <label>
          <span class="lbl" translate>LABEL.record.about.technicalNote</span>
            <textarea data-inplace data-ui-jq="autosize" spellcheck="false"
                      data-ng-model="record.about.technicalNote" ></textarea>
        </label>
      </div>
      <div class="col6" data-ng-show="record.about.systemRequirements">
          <label>
            <span class="lbl" translate>LABEL.record.about.systemRequirements</span>
          <textarea data-inplace class="ng-pristine ng-valid" data-ui-jq="autosize" type="text" data-ng-model="record.about.systemRequirements" ></textarea>
        </label>
      </div>
    </div>
    <div style="clear:both"></div>
		<div class="cols">
			<div class="col6">
        <label class="datatable" data-ng-target="commentTable" 
          data-kitin-data-table 
          data-table-model="record.about.comment" 
          data-table-header-row-template="comment-header-row-template"
          data-table-row-template="comment-row-template"
          data-subject="record.about" data-link-multiple="comment"
          data-default-type="Comment"
          data-add-first
          data-addable="notes">
        </label>

        <script type="text/ng-template" id="comment-header-row-template">
          <td>
              <span class="lbl" translate>LABEL.record.about.comment</span>
          </td>
        </script>
        <script type="text/ng-template" id="comment-row-template">
          <td>
            <label>
              <textarea ng-model="objects[$index]" data-inplace class="ng-pristine ng-valid" type="text"></textarea>
            </label>
          </td>
          <td class="controls">
            <button class="btn-link deleter" data-ng-click="removeObject(tableModel, null, $index)">
              <i class="fa fa-times"></i>
            </button>
          </td>
        </script>

			</div>
			<div class="col6">
	      <label data-ng-repeat="topic in record.about.isPrimaryTopicOf">
            <span class="lbl" translate>{{ "isPrimaryTopicOf type: " + topic['@type'] }}</span>
          <textarea data-inplace class="ng-pristine ng-valid" data-ui-jq="autosize" type="text" data-ng-model="topic['@id']" ></textarea>
        </label>
	      <label data-ng-repeat="topic in record.about.isPrimaryTopicOf">
            <span class="lbl" translate>LABEL.record.about.isPrimaryTopicOf</span>
          <textarea data-inplace class="ng-pristine ng-valid" data-ui-jq="autosize" type="text" data-ng-model="topic.comment" ></textarea>
        </label>
			</div>		
		</div>

    <div class="cols">
      <div class="col6">
          <label data-ng-repeat="audience in record.about.audience">
            <span class="lbl" translate>LABEL.record.about.audience.label</span>
          <textarea data-inplace class="ng-pristine ng-valid" data-ui-jq="autosize" type="text" data-ng-model="audience.label" ></textarea>        
<!-- audience from fixed fields?
        </label>
          <label data-ng-repeat="audience in record.about.audience">
            <span class="lbl" translate>LABEL.record.about.audience</span>
          <textarea data-inplace class="ng-pristine ng-valid" data-ui-jq="autosize" type="text" data-ng-model="audience" ></textarea>          
        </label>
-->
      </div>
      <div class="col6" data-ng-show="record.about.note">
       <label>
            <span class="lbl" translate>LABEL.record.about.note</span>
          <textarea data-inplace class="ng-pristine ng-valid" data-ui-jq="autosize" type="text" data-ng-model="record.about.note" ></textarea>
        </label>	      
      </div>
    </div>
    <div style="clear:both"></div>    
    <div class="element-adder" data-element-adder="notes"></div>
 {% endraw %}