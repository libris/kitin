{% extends "base.html" %}
{% block content_class %}post{% endblock content_class %}
{%- macro render_marc(label, data) -%}
  {%- if data is defined -%}
    {%- if data[0] is iterable and data[0] is not string -%}
      <label>{{label}}</label>
      <input class="first-indicator" type="text" value="{{data[0][0]}}"/>
      <input class="second-indicator" type="text" value="{{data[0][1]}}"/>
      {%- for stuff in data[0][2] -%}
        {{ render_value_field(data[0][2])}}
      {%- endfor -%}
    {%- else -%}
      <label>{{label}}</label>
      <input class="first-indicator" type="text" value="{{data[0]}}"/>
      <input class="second-indicator" type="text" value="{{data[1]}}"/>
      {%- if data[2] is string -%}
        <input class="subfield" type="text" value="{{data[2]}}"/>
      {% elif data[2] is mapping %}
        {{ render_value_field(data[2]) }}
      {%- endif -%}
    {%- endif -%}
  {%- endif -%}
{%- endmacro -%}

{%- macro render_value_field(data) -%}
  <input class="input-medium subfield" type="text" value="
  {%- for subfield, value in data.items() -%}
    &Dagger;{{subfield + " " + " ".join(value) + " " }}
  {%- endfor -%}
  "/>
{%- endmacro %}

{% block content %}
<!--Body content-->
<h2>Monografi</h2>
{% if data is defined %}
  <ul class="control_fields">
    <li><label>000:</label><span class="000">{{data['000']}}</span></li>
    <li><label>001:</label><span class="001">{{data['001']}}</span></li>
    <li><label>003:</label><span class="003">{{data['003']}}</span></li>
    <li><label>005:</label><span class="005">{{data['005']}}</span></li>
    <li><label>006:</label><span class="006">{{data['006']}}</span></li>
    <li><label>007:</label><span class="007">{{data['007']}}</span></li>
    <li><label>008:</label><span class="008">{{data['008']}}</span></li>
  </ul>
  <hr>

  {% for row in data|sort %}
    <p>
    {{ render_marc(row, data[row]) }}
    </p>
  {% endfor %}
{% endif %}
</table>

<hr>

<p>shift + option + t = doubledagger</p>

<!-- labels blev föräldralösa i delfältsindelning… ändra sen i hope hope-->
<label class="control-label" for="isbn-020_00-z_00" title="[020 &Dagger;a] ISBN">020 - Internationellt standardboknummer (ISBN)</label> 
<div class="controls">
<span class="help-block">ISBN med ev. kvalifikatorer</span>
  <input id="isbn-020ax00" class="input-xlarge" type="text">
  <!-- <p class="help-block">ISBN</p> -->
</div>


<label class="control-label" for="katinstans040-a" title="[040 &Dagger;a] Katalogiserande instans">Katalogiserande instans*</label>
<div class="controls">
  <input type="text" class="input-xlarge" name="katinstans-040a" list="sigel">
  <datalist id="sigel">
   <option value="NB (Nationalbibliografin)">
   <option value="S (Kungl.biblioteket)">
   <option value="REG (Registervården)">
   <option value="SBD (Statens biblioteksdepå)">
  </datalist>

</div>

<label class="control-label" for="klassifikationskod-084a">Annan klassifikationskod</label>
<div class="controls">
<span class="help-block"></span>
  <input id="klassifikationskod-084a" class="input-xlarge" type="text" value="‡a kssb/8">
	<a href="#">+</a>
</div>


<label class="control-label" for="personnamn-100">Huvuduppslag - Personnamn (Auktoriserad)</label>
<div class="controls">
<span class="help-block">a) Personnamn <em>Ex. Strindberg, August</em></span>
  <input id="personnamn-100a" class="input-xlarge" type="text" >
</div>

<div class="controls">
<span class="help-block">d) Födelse- och dödsår</span>
  <input id="personnamn-100d" class="input-xlarge" type="text">
</div>

<label class="control-label" for="titel-245a" title="245 title">(hover) - Titel och upphov</label>


    <div class="container-fluid">
      <div class="row-fluid">
   
    <div class="span4">

		<!-- <div class="controls"> -->

<span class="help-block">a) Huvudtitel</span>
  <input id="titel-245a" class="input-medium" type="text">
	</div>
    
    <div class="span4">

<span class="help-block">b) Övrig titelinformation</span>
  <input id="titel-245b" class="input-medium" type="text">
	</div>

	<div class="span4">

<span class="help-block">c) Särskiljande tillägg</span>
  <input id="titel-245c" class="input-medium" type="text">
	</div>

<!-- </div> -->
</div>
</div>

<label class="control-label" for="upplaga-250a">Upplaga</label>
<div class="controls">
 <span class="help-block">a) Upplageuppgift</span>
  <input id="upplaga-250a" class="input-xlarge" type="text">
</div>

<label class="control-label" for="utgivning-260a">Utgivning, distribution etc</label>
<div class="controls">
 <span class="help-block">a) Ort</span>
  <input id="utgivning-260a" class="input-xlarge" type="text">
</div>

<div class="controls">
 <span class="help-block">b) Förlag eller annan utgivare</span>
  <input id="utgivning-260b" class="input-xlarge" type="text">
</div>

<div class="controls">
 <span class="help-block">c) Utgivningstid</span>
  <input id="utgivning-260c" class="input-xlarge" type="text">
</div>

<label class="control-label" for="300a">Fysisk beskrivning</label>
<div class="controls">
 <span class="help-block">a) Omfång, t ex antal sidor eller volymer</span>
  <input id="300a" class="input-xlarge" type="text">
</div>

<div class="controls">
 <span class="help-block">b) Övriga fysiska detaljer ex. illustrationer</span>
  <input id="300b" class="input-xlarge" type="text">
</div>

<label class="control-label" for="650a">Ämnesord sao </label>
<div class="controls">
<span class="help-block">Term som sökelement</span>
  <input id="650a" class="input-xlarge" type="text">
</div>
<hr>
<p>
020 ISBN
040 Katalogiserande instans (NR)
084 Annan klassifikationskod (R)
100 Huvuduppslag - Personnamn (NR) - Auktoritetskontrollerat &Dagger;a namn &Dagger;b ordningstal &Dagger;c särskiljande tillägg &Dagger;d födelse och dödsår
245 Titel och upphov (NR)
250 Upplaga (NR)
260 Utgivning, distribution etc (R)
300 Fysisk beskrivning (R)
490 Serie, ej biuppslagsform (R)
650 Ämnesord - Kontrollerad term (R) - Auktoritetskontrollerat
700 Biuppslag - Personnamn (R) - Auktoritetskontrollerat
</p>

{% endblock %}
