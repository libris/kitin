{% extends "base.html" %}
{% block title %}Edit{% endblock %}
{% block body_id %}bib{% endblock %}
{% block navbar_locals %}
  <!--
  <ul class="nav">
    <li><a href="#verket"> verket</a></li>
    <li><a href="#manifestationen"> manifestationen</a></li>
  </ul>
  -->
  <!--
  <b class="add-on">Bibliografisk post:</b> {{rec_id}}
  <span class="btn-toolbar">
    <span class="btn-group" data-ng-repeat="isFrbr in [editMode == 'frbr']">
      <a ng-class="{'btn': isFrbr, 'btn active': !isFrbr}"
         href="/edit/marc/{{rec_type}}/{{rec_id}}">Marc </a>
      <a ng-class="{'btn': !isFrbr, 'btn active': isFrbr}"
         href="/edit/frbr/{{rec_type}}/{{rec_id}}">FRBR</a>
    </span>
  </span>
  -->
{% endblock navbar_locals %}

{% block content_class %}record{% endblock content_class %}

{% block content %}

  <div id="litebox">
    <form id="record" class="form-horizontal" data-ng-view>
    </form>
  </div>

  {% raw %}

  <script type="text/ng-template" id="render-control-field">
    <div data-ng-repeat="(propRef, col) in controlField"
        data-ng-init="propEnum = map.fixprops[propRef]; colDfn = col.getDfn()"
        class="control-group fields">
      <label class="control-label" title="{{ colDfn.offset }} + {{ colDfn.length }}"
          >{{ colDfn.label_sv }}</label>
      <div class="controls" data-ng-switch="typeOf(propEnum)">
        <select data-ng-switch-when="object" class="span7"
          data-ng-options="key as val.label_sv for (key, val) in propEnum"
          data-ng-model="col.code">
        </select>
        <input data-ng-switch-default data-ng-model="col.code" />
      </div>
    </div>
  </script>

  {% endraw %}

{% endblock content %}
